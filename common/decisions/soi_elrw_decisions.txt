soi_influence_campaign = {
	start_influence_campaign_in_delta = {
		icon = TODO_
		days_remove = 0
		days_re_enable = 0
		fire_only_once = yes
		target_trigger = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
					}
				}
				FROM = {
					OR = {
						has_opinion = { target = ROOT value < 0 }
						has_opinion = { target = ROOT value > -1 }
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				FROM = {
					has_opinion = { target = ROOT value > 29 }
				}
			}
		}
		available = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
					}
				}
				FROM = {
					OR = {
						has_opinion = { target = ROOT value < 0 }
						has_opinion = { target = ROOT value > -1 }
					}
					is_major = no
					NOT = {
						is_puppet = yes
					}
					if = {
						limit = {
							is_in_faction = yes
						}
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					OR = {
						AND = {
							is_neighbor_of = ROOT
						}
						AND = {
							any_state = {
								is_coastal = yes
								is_controlled_by = FROM
							}
							ROOT = {
								has_navy_size = { size > 4 }
							}
						}
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				ROOT = {
					num_of_factories > FROM.num_of_factories
					is_puppet = no
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = not_has_influence_campaign_tt
						has_country_flag = has_influence_campaign_@FROM
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				FROM = {
					has_opinion = { target = ROOT value > 29 }
					is_major = no
					NOT = {
						is_puppet = yes
					}
					if = {
						limit = {
							is_in_faction = yes
						}
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					OR = {
						AND = {
							is_neighbor_of = ROOT
						}
						AND = {
							any_state = {
								is_coastal = yes
								is_controlled_by = FROM
							}
							ROOT = {
								has_navy_size = { size > 4 }
							}
						}
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				ROOT = {
					num_of_factories > FROM.num_of_factories
					is_puppet = no
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = not_has_influence_campaign_tt
						has_country_flag = has_influence_campaign_@FROM
					}
				}
			}
		}
		visible = {
			FROM = {
				is_puppet = no
				if = {
					limit = {
						is_in_faction = yes
					}
					is_in_faction_with = ROOT
				}
				is_major = no
			}
		}
		complete_effect = {
			custom_effect_tooltip = start_influence_campaign_tt
			hidden_effect = {
				set_country_flag = has_influence_campaign_@FROM
				FROM = { set_country_flag = under_influence_of_@ROOT }
				set_variable = { ROOT.influence_level@FROM = 0.00 }
				set_variable = { var = THIS.opinion_about@ROOT value = 0.00 }
				set_variable = { var = ROOT.this_multiplier@THIS value = 0.00 }
			}
		}
		remove_effect = {
			set_variable = { ROOT.ai_influence_way = 0 }
		}
	}
	send_factories_to_delta = {
		icon = decision_icon_send_factories_to_delta
		days_remove = 60
		days_re_enable = 14
		
		target_trigger = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
					}
				}
				FROM = {
					OR = {
						has_opinion = { target = ROOT value < 0 }
						has_opinion = { target = ROOT value > -1 }
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				FROM = {
					has_opinion = { target = ROOT value > 29 }
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				check_variable = { ROOT.ai_influence_way = 1 }
			}
		}
		available = {
			check_variable = { ROOT.influence_power > 29.99 }
				FROM = {
					if = {
						limit = {
							is_puppet = yes
						}
						is_puppet_of = ROOT
					}
					if = {
						limit = {
							is_in_faction = yes
						}
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					OR = {
						AND = {
							is_neighbor_of = ROOT
						}
						AND = {
							any_state = {
								is_coastal = yes
								is_controlled_by = FROM
							}
						}
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				ROOT = {
					num_of_factories > FROM.num_of_factories
					is_puppet = no
				}
				custom_trigger_tooltip = {
					tooltip = has_influence_campaign_tt
					has_country_flag = has_influence_campaign_@FROM
				}
		}
		visible = {
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		targeted_modifier = {
			tag = FROM
			cic_to_target_factor = 0.15
		}
		complete_effect = {
			add_to_variable = { ROOT.influence_power = -30 }
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = sent_factories
				}
			}
		}
		remove_effect = {
			custom_effect_tooltip = gain_influence_1_0_tt
			hidden_effect = {
				add_to_variable = { ROOT.influence_level@FROM = 1.0 }
				set_variable = { ROOT.delta_a@FROM = 1.0 }
				multiply_variable = { ROOT.delta_a@FROM = ROOT.influence_multiplier@FROM }
				add_to_variable = { ROOT.influence_level@FROM = ROOT.delta_a@FROM }
				clear_variable = ROOT.delta_a@FROM
				random_list = {
					34 = {
						set_variable = { ROOT.ai_influence_way = 0 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 1 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 2 }
					}
				}
			}
		}
	}
	send_advisors_to_delta = {
		icon = decision_icon_send_advisors_to_delta
		days_remove = 15
		days_re_enable = 5
		
		target_trigger = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
					}
				}
				FROM = {
					OR = {
						has_opinion = { target = ROOT value < 0 }
						has_opinion = { target = ROOT value > -1 }
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				FROM = {
					has_opinion = { target = ROOT value > 29 }
				}
			}
		}
		ai_will_do = {
			base = 5
			modifier = {
				add = 5
				check_variable = { ROOT.ai_influence_way = 0 }
			}
			modifier = {
				add = -10
				check_variable = { ROOT.ai_influence_way = 1 }
			}
			modifier = {
				add = -10
				check_variable = { ROOT.ai_influence_way = 2 }
			}
		}
		available = {
			check_variable = { ROOT.influence_power > 14.99 }
			FROM = {
				if = {
					limit = {
						is_puppet = yes
					}
					is_puppet_of = ROOT
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				OR = {
					AND = {
						is_neighbor_of = ROOT
					}
					AND = {
						any_state = {
							is_coastal = yes
							is_controlled_by = FROM
						}
					}
				}
				NOT = {
					has_war_with = ROOT
				}
				custom_trigger_tooltip = {
					tooltip = SOI_not_banned_us_tt
					NOT = {
						has_country_flag = FROM.resisting_banned_country@ROOT
					}
				}
			}
			ROOT = {
				num_of_factories > FROM.num_of_factories
				is_puppet = no
			}
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		visible = {
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		modifier = {
			political_power_factor = -0.2
		}
		complete_effect = {
			add_to_variable = { ROOT.influence_power = -15 }
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = sent_advisors
				}
			}
		}
		remove_effect = {
			FROM = {
				add_political_power = 75
			}
			custom_effect_tooltip = gain_influence_0_5_tt
			hidden_effect = {
				add_to_variable = { ROOT.influence_level@FROM = 0.5 }
				set_variable = { ROOT.delta_b@FROM = 0.5 }
				multiply_variable = { ROOT.delta_b@FROM = ROOT.influence_multiplier@FROM }
				add_to_variable = { ROOT.influence_level@FROM = ROOT.delta_b@FROM }
				clear_variable = ROOT.delta_b@FROM
				random_list = {
					34 = {
						set_variable = { ROOT.ai_influence_way = 0 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 1 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 2 }
					}
				}
			}
		}
	}
	send_investment_expedition_in_delta = {
		icon = decision_icon_send_investment_expedition_in_delta
		days_remove = 90
		days_re_enable = 7
		
		target_trigger = {
			if = {
				limit = {
					ROOT = {
						is_ai = yes
					}
				}
				FROM = {
					OR = {
						has_opinion = { target = ROOT value < 0 }
						has_opinion = { target = ROOT value > -1 }
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_ai = no
					}
				}
				FROM = {
					has_opinion = { target = ROOT value > 29 }
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				check_variable = { ROOT.ai_influence_way = 2 }
			}
		}
		available = {
			check_variable = { ROOT.influence_power > 59.99 }
			FROM = {
				if = {
					limit = {
						is_puppet = yes
					}
					is_puppet_of = ROOT
				}
				if = {
					limit = {
						is_in_faction = yes
					}
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				OR = {
					AND = {
						is_neighbor_of = ROOT
					}
					AND = {
						any_state = {
							is_coastal = yes
							is_controlled_by = FROM
						}
					}
				}
				NOT = {
					has_war_with = ROOT
				}
				custom_trigger_tooltip = {
					tooltip = SOI_not_limited_us_tt
					NOT = {
						has_country_flag = FROM.resisting_outside_influence@ROOT
					}
				}
				custom_trigger_tooltip = {
					tooltip = SOI_not_banned_us_tt
					NOT = {
						has_country_flag = FROM.resisting_banned_country@ROOT
					}
				}
			}
			ROOT = {
				num_of_factories > FROM.num_of_factories
				is_puppet = no
			}
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		visible = {
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		modifier = {
			political_power_factor = -0.4
		}
		complete_effect = {
			add_to_variable = { ROOT.influence_power = -60 }
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = sent_investment_expedition
				}
			}
		}
		remove_effect = {
			FROM = {
				add_political_power = 150
			}
			custom_effect_tooltip = gain_influence_1_5_tt
			hidden_effect = {
				add_to_variable = { ROOT.influence_level@FROM = 1.5 }
				set_variable = { ROOT.delta_c@FROM = 1.5 }
				multiply_variable = { ROOT.delta_c@FROM = ROOT.influence_multiplier@FROM }
				add_to_variable = { ROOT.influence_level@FROM = ROOT.delta_c@FROM }
				clear_variable = ROOT.delta_c@FROM
				random_list = {
					34 = {
						set_variable = { ROOT.ai_influence_way = 0 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 1 }
					}
					33 = {
						set_variable = { ROOT.ai_influence_way = 2 }
					}
				}
			}
		}
	}
	enact_friendly_agreement_with_delta = {
		icon = decision_icon_enact_friendly_agreement_with_delta
		days_remove = 0
		days_re_enable = 140
		cost = 25
		
		target_trigger = {
			FROM = {
				check_variable = { ROOT.influence_level@FROM > 3.99 }
			}
		}
		
		available = {
			FROM = {
				has_war = no
				NOT = {
					has_non_aggression_pact_with = ROOT
				}
			}
			check_variable = { ROOT.influence_level@FROM > 4.99 }
		}
		visible = {
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		complete_effect = {
			give_military_access = FROM
			FROM = {
				give_military_access = ROOT
			}
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}
		}
		remove_effect = {
			
		}
	}
	take_over_delta = {
		icon = decision_icon_take_over_delta
		days_remove = 0
		days_re_enable = 180
		cost = 25
		
		target_trigger = {
			FROM = {
				check_variable = { ROOT.influence_level@FROM > 8.99 }
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				date > 1940.1.1
			}
		}
		available = {
			FROM = {
				has_war = no
			}
			check_variable = { ROOT.influence_level@FROM > 9.99 }
		}
		visible = {
			custom_trigger_tooltip = {
				tooltip = has_influence_campaign_tt
				has_country_flag = has_influence_campaign_@FROM
			}
		}
		complete_effect = {
			if = {
				limit = {
					ROOT = {
						is_in_faction = yes
					}
				}
				ROOT = {
					add_to_faction = FROM
				}
			}
			ROOT = {
				set_autonomy = { target = FROM autonomy_state = autonomy_colony }
			}
			set_temp_variable = { temp_c = FROM.total_states }
			add_to_temp_variable = { temp_c = FROM.num_divisions }
			add_to_temp_variable = { temp_c = FROM.num_of_factories }
			divide_temp_variable = { temp_c = 100 }
			multiply_temp_variable = { temp_c = 5 }
			round_variable = temp_c
			add_threat = var:temp_c
		}
		remove_effect = {
			
		}
	}
	integrate_delta_in_our_country = {
		icon = decision_icon_integrate_delta_in_our_country
		cost = 90
		days_remove = 120
		days_re_enable = 180
		target_trigger = {
			FROM = {
				is_puppet_of = ROOT
			}
		}
		available = {
			FROM = {
				is_puppet_of = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = SOI_integrate_influence_required_tt
				check_variable = { ROOT.influence_level@FROM > 14.99 }
			}
		}
		visible = {
			FROM = {
				exists = yes
			}
		}
		complete_effect = {
			
		}
		remove_effect = {
			annex_country = { target = FROM transfer_troops = yes }
		}
	}
	decision_state_delta = {
		icon = decision_icon_take_state
		days_remove = 7
		days_re_enable = 14
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				NOT = {
					is_owned_by = ROOT
				}
			}
			FROM.owner = {
				has_country_flag = under_influence_of_@ROOT
			}
			check_variable = { var = ROOT.influence_level@FROM.owner value = 6 compare = greater_than_or_equals }
		}
		#ai_will_do = {
		#	base = 0
		#	modifier = {
		#		add = 10
		#		FROM = {
		#			is_core_of = ROOT
		#		}
		#	}
		#	modifier = {
		#		add = 5
		#		FROM = {
		#			is_claimed_by = ROOT
		#		}
		#	}
		#	modifier = {
		#		add = -20
		#		ROOT = {
		#			has_government = democratic
		#		}
		#	}
		#	modifier = {
		#		add = -10
		#		ROOT = {
		#			strength_ratio = {
		#				tag = FROM.onwer
		#				ratio < 0.8
		#			}
		#		}
		#	}
		#	modifier = {
		#		add = 10
		#		ROOT = {
		#			strength_ratio = {
		#				tag = FROM.onwer
		#				ratio > 1.5
		#			}
		#		}
		#	}
		#}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOI_require_influence_level_tt
				check_variable = { var = ROOT.influence_level@FROM.owner value = 6 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = SOI_require_influence_state_tt
				check_variable = { var = ROOT.state_influence@FROM value = 5 compare = greater_than_or_equals }
			}
			custom_trigger_tooltip = {
				tooltip = SOI_require_influence_power_20_tt
				check_variable = { var = ROOT.influence_power value = 20 compare = greater_than }
			}
		}
		complete_effect = {
			subtract_from_variable = { ROOT.influence_power = 20 }
		}
		remove_effect = {
			ROOT = {
				transfer_state = FROM
			}
			custom_effect_tooltip = SOI_will_take_1_influence_level_tt
			hidden_effect = {
				subtract_from_variable = { ROOT.influence_level@FROM.owner = 1 }
				set_variable = { ROOT.state_influence@FROM = 0 }
			}
		}
	}
	decision_influence_state_delta = {
		icon = decision_icon_influence_state
		days_remove = 7
		days_re_enable = 2
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				NOT = {
					is_owned_by = ROOT
				}
			}
			FROM.owner = {
				has_country_flag = under_influence_of_@ROOT
			}
		}
		#ai_will_do = {
		#	base = 0
		#	modifier = {
		#		add = 10
		#		FROM = {
		#			is_core_of = ROOT
		#		}
		#	}
		#	modifier = {
		#		add = 5
		#		FROM = {
		#			is_claimed_by = ROOT
		#		}
		#	}
		#	modifier = {
		#		add = -20
		#		ROOT = {
		#			has_government = democratic
		#		}
		#	}
		#	modifier = {
		#		add = -10
		#		ROOT = {
		#			strength_ratio = {
		#				tag = FROM.onwer
		#				ratio < 0.8
		#			}
		#		}
		#	}
		#	modifier = {
		#		add = 10
		#		ROOT = {
		#			strength_ratio = {
		#				tag = FROM.onwer
		#				ratio > 1.5
		#			}
		#		}
		#	}
		#}
		available = {
			FROM = {
				NOT = {
					is_owned_by = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOI_require_lower_state_influence_tt
				check_variable = { var = ROOT.state_influence@FROM value = 5 compare = less_than }
			}
			custom_trigger_tooltip = {
				tooltip = SOI_require_influence_power_20_tt
				check_variable = { var = ROOT.influence_power value = 20 compare = greater_than }
			}
		}
		visible = {
			FROM = {
				NOT = {
					is_owned_by = ROOT
				}
			}
			check_variable = { var = ROOT.state_influence@FROM value = 5 compare = less_than }
		}
		complete_effect = {
			subtract_from_variable = { ROOT.influence_power = 20 }
		}
		remove_effect = {
			custom_effect_tooltip = SOI_will_higher_state_influence_tt
			hidden_effect = {
				add_to_variable = { ROOT.state_influence@FROM = 1 }
			}
		}
	}
}
soi_under_influence = {
	strict_rules_against_delta = {
		icon = decision_icon_resist_outside_influence
		days_remove = 30
		days_re_enable = 7
		target_trigger = {
			FROM = {
				check_variable = { FROM.influence_level@ROOT > 0.5 }
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				check_variable = { FROM.influence_level@ROOT > 5.0 }
			}
		}
		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = SOI_not_resisting_influence_delta
					NOT = {
						has_country_flag = ROOT.resisting_outside_influence@FROM
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = ROOT.resisting_outside_influence@FROM
			set_variable = { ROOT.country_actions@FROM = 1 }
			custom_effect_tooltip = SOI_influence_lower_daily_by_010_tt
		}
		modifier = {
			political_power_factor = -0.05
		}
		remove_effect = {
			clr_country_flag = ROOT.resisting_outside_influence@FROM
			set_variable = { ROOT.country_actions@FROM = 0 }
		}
	}
	ban_country_delta = {
		icon = decision_icon_resist_outside_influence
		days_remove = 50
		days_re_enable = 10
		target_trigger = {
			FROM = {
				check_variable = { FROM.influence_level@ROOT > 0.5 }
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				check_variable = { FROM.influence_level@ROOT > 7.5 }
			}
			modifier = {
				add = 10
				NOT = {
					FROM.has_government = has_government
				}
			}
			modifier = {
				factor = 0
				FROM.has_government = has_government
			}
		}
		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = SOI_not_resisting_influence_delta
					NOT = {
						has_country_flag = ROOT.resisting_outside_influence@FROM
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = ROOT.resisting_outside_influence@FROM
			set_variable = { ROOT.country_actions@FROM = 1 }
			custom_effect_tooltip = SOI_influence_lower_daily_by_010_tt
		}
		modifier = {
			political_power_factor = -0.1
		}
		remove_effect = {
			clr_country_flag = ROOT.resisting_outside_influence@FROM
			set_variable = { ROOT.country_actions@FROM = 0 }
		}
	}
	#resist_outside_influence = {
	#	icon = decision_icon_resist_outside_influence
	#	days_remove = 70
	#	days_re_enable = 14
	#	available = {
	#		custom_trigger_tooltip = {
	#			tooltip = SOI_any_country_has_influence_tt
	#			any_country = {
	#				check_variable = { THIS.influence_level@ROOT > 1 }
	#			}
	#		}
	#	}
	#	ai_will_do = {
	#		base = 0
	#		modifier = {
	#			add = 5
	#			any_country = {
	#				check_variable = { THIS.influence_level@ROOT > 2.5 }
	#			}
	#		}
	#		modifier = {
	#			add = 5
	#			any_country = {
	#				check_variable = { THIS.influence_level@ROOT > 5.0 }
	#			}
	#		}
	#		modifier = {
	#			add = 5
	#			any_country = {
	#				check_variable = { THIS.influence_level@ROOT > 7.5 }
	#			}
	#		}
	#	}
	#	visible = {
	#		always = yes
	#	}
	#	complete_effect = {
	#		custom_effect_tooltip = SOI_influence_lower_daily_tt
	#		set_country_flag = ROOT.resist_outside_influence
	#	}
	#	remove_effect = {
	#		clr_country_flag = ROOT.resist_outside_influence
	#	}
	#}
	go_with_delta = {
		icon = decision_icon_go_with_delta
		days_remove = 0
		days_re_enable = 180
		cost = 50
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				FROM.has_government = has_government
			}
		}
		target_trigger = {
			FROM = {
				check_variable = { FROM.influence_level@ROOT > 8.99 }
			}
		}
		
		available = {
			check_variable = { FROM.influence_level@ROOT > 8.99 }
		}
		visible = {
			always = yes
		}
		complete_effect = {
			FROM = {
				puppet = ROOT
				set_autonomy = { target = ROOT autonomy_state = autonomy_colony }
			}
		}
		remove_effect = {
			
		}
	}
}

elections_reworked__elections = {
	allow_elections = {
		icon = decision_icon_allow_elections
		cost = 15
		#days_re_enable = 1
		available = {
			has_idea = elections_banned
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_government = neutrality
				add = 1
			}
			modifier = {
				has_government = democratic
				add = 2
			}
			modifier = {
				add = 2
				has_stability < 0.4
			}
		}
		remove_effect = {
			add_stability = 0.1
			remove_ideas = elections_banned
			add_ideas = elections_enabled
		}
	}
	ban_elections = {
		icon = decision_icon_ban_elections
		cost = 30
		days_remove = 30
		#days_re_enable = 1
		available = {
			has_idea = elections_enabled
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = -1
			modifier = {
				has_government = democratic
				add = -2
			}
			modifier = {
				has_stability > 0.55
				add = 2
			}
		}
		remove_effect = {
			add_stability = -0.1
			remove_ideas = elections_enabled
			add_ideas = elections_banned
		}
	}
	elections = {
		icon = decision_icon_elections
		#fire_only_once = no
		allowed = {
			always = yes
		}
		available = {
			has_idea = elections_banned
		}
		activation = {
			has_idea = elections_enabled
			NOT = {
				check_variable = { ROOT.elections_days = 0 }
			}
		}
		is_good = yes
		days_mission_timeout = ROOT.elections_days
		complete_effect = {
			
		}
		timeout_effect = {
			if = {
				limit = {
					has_war = no
				}
				country_event = { id = erevents.1 }
				set_country_flag = ROOT.on_going_elections
			}
			if = {
				limit = {
					has_war = yes
					any_war_score > 20
				}
				country_event = { id = erevents.5 }
			}
			if = {
				limit = {
					has_war = yes
					any_war_score < 20
				}
				country_event = { id = erevents.6 }
			}
			hidden_effect = {
				activate_mission = elections
			}
		}
	}
	er_ban_democratic_party = {
		icon = decision_icon_ban_democratic_party
		cost = 100
		days_remove = 0
		days_re_enable = 4
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_democratic_banned
				has_government = democratic
			}
			check_variable = { ROOT.Dem_inf > 19.99 }
		}
		visible = {
			always = yes
		}
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = democratic_party_popularity
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = democratic_party_popularity
					value = -1
				}
			}
			set_country_flag = has_democratic_banned
			add_popularity = {
				ideology = democratic
				popularity = democratic_party_popularity
			}
			add_stability = democratic_party_popularity
			if = {
				limit = {
					AND = {
						democratic > 0.4
						check_variable = { ROOT.Dem_inf > 40 }
					}
				}
				random_list = {
					40 = {
						start_civil_war = {
							ruling_party = ROOT.has_government
							ideology = democratic
							size = 0.4
						}
						country_event = { id = partiesinfluence.13 }
					}
					40 = {
						set_politics = {
							ruling_party = democratic
						}
						add_popularity = {
							ideology = democratic
							popularity = 0.2
						}
						country_event = { id = partiesinfluence.12 }
					}
					20 = { }
				}
			}
		}
		remove_effect = {
			
		}
	}
	er_democratic_banned = {
		icon = decision_icon_democratic_banned
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_democratic_banned
				has_government = democratic
			}
		}
		activation = {
			has_country_flag = has_democratic_banned
		}
		is_good = yes
		days_mission_timeout = 90
		timeout_effect = {
			clr_country_flag = has_democratic_banned
		}
	}
	er_ban_communism_party = {
		icon = decision_icon_ban_democratic_party
		cost = 100
		days_remove = 0
		days_re_enable = 4
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_communism_banned
				has_government = communism
			}
			check_variable = { ROOT.Com_inf > 19.99 }
		}
		visible = {
			always = yes
		}
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = communism_party_popularity
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = communism_party_popularity
					value = -1
				}
			}
			set_country_flag = has_communism_banned
			add_popularity = {
				ideology = communism
				popularity = communism_party_popularity
			}
			add_stability = communism_party_popularity
			if = {
				limit = {
					AND = {
						communism > 0.4
						check_variable = { ROOT.Com_inf > 40 }
					}
				}
				random_list = {
					40 = {
						start_civil_war = {
							ruling_party = ROOT.has_government
							ideology = communism
							size = 0.4
						}
						country_event = { id = partiesinfluence.13 }
					}
					40 = {
						set_politics = {
							ruling_party = communism
						}
						add_popularity = {
							ideology = communism
							popularity = 0.2
						}
						country_event = { id = partiesinfluence.12 }
					}
					20 = { }
				}
			}
		}
		remove_effect = {
			
		}
	}
	er_communism_banned = {
		icon = decision_icon_democratic_banned
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_communism_banned
				has_government = communism
			}
		}
		activation = {
			has_country_flag = has_communism_banned
		}
		is_good = yes
		days_mission_timeout = 90
		timeout_effect = {
			clr_country_flag = has_communism_banned
		}
	}
	er_ban_fascism_party = {
		icon = decision_icon_ban_democratic_party
		cost = 100
		days_remove = 0
		days_re_enable = 4
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_fascism_banned
				has_government = fascism
			}
			check_variable = { ROOT.Fas_inf > 19.99 }
		}
		visible = {
			always = yes
		}
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = fascism_party_popularity
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = fascism_party_popularity
					value = -1
				}
			}
			set_country_flag = has_fascism_banned
			add_popularity = {
				ideology = fascism
				popularity = fascism_party_popularity
			}
			add_stability = fascism_party_popularity
			if = {
				limit = {
					AND = {
						fascism > 0.4
						check_variable = { ROOT.Fas_inf > 40 }
					}
				}
				random_list = {
					40 = {
						start_civil_war = {
							ruling_party = ROOT.has_government
							ideology = fascism
							size = 0.4
						}
						country_event = { id = partiesinfluence.13 }
					}
					40 = {
						set_politics = {
							ruling_party = fascism
						}
						add_popularity = {
							ideology = fascism
							popularity = 0.2
						}
						country_event = { id = partiesinfluence.12 }
					}
					20 = { }
				}
			}
		}
		remove_effect = {
			
		}
	}
	er_fascism_banned = {
		icon = decision_icon_democratic_banned
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_fascism_banned
				has_government = fascism
			}
		}
		activation = {
			has_country_flag = has_fascism_banned
		}
		is_good = yes
		days_mission_timeout = 90
		timeout_effect = {
			clr_country_flag = has_fascism_banned
		}
	}
	er_ban_neutrality_party = {
		icon = decision_icon_ban_democratic_party
		cost = 100
		days_remove = 0
		days_re_enable = 4
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_neutrality_banned
				has_government = neutrality
			}
			check_variable = { ROOT.Neu_inf > 19.99 }
		}
		visible = {
			always = yes
		}
		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = neutrality_party_popularity
					value = party_popularity@neutrality
				}
				multiply_temp_variable = {
					var = neutrality_party_popularity
					value = -1
				}
			}
			set_country_flag = has_neutrality_banned
			add_popularity = {
				ideology = neutrality
				popularity = neutrality_party_popularity
			}
			add_stability = neutrality_party_popularity
			if = {
				limit = {
					AND = {
						neutrality > 0.4
						check_variable = { ROOT.Neu_inf > 40 }
					}
				}
				random_list = {
					40 = {
						start_civil_war = {
							ruling_party = ROOT.has_government
							ideology = neutrality
							size = 0.4
						}
						country_event = { id = partiesinfluence.13 }
					}
					40 = {
						set_politics = {
							ruling_party = neutrality
						}
						add_popularity = {
							ideology = neutrality
							popularity = 0.2
						}
						country_event = { id = partiesinfluence.12 }
					}
					20 = { }
				}
			}
		}
		remove_effect = {
			
		}
	}
	er_neutrality_banned = {
		icon = decision_icon_democratic_banned
		allowed = {
			always = yes
		}
		available = {
			NOT = {
				has_country_flag = has_neutrality_banned
				has_government = neutrality
			}
		}
		activation = {
			has_country_flag = has_neutrality_banned
		}
		is_good = yes
		days_mission_timeout = 90
		timeout_effect = {
			clr_country_flag = has_neutrality_banned
		}
	}
}
elections_reworked__parties_influence = {
	grant_democratic_party_more_influence = {
		icon = decision_icon_grant_democratic_party_more_influence
		cost = 0
		days_remove = 15
		days_re_enable = 7
		available = {
			check_variable = { var = ROOT.party_power value = 30 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_government = democratic
				add = 10
			}
			modifier = {
				NOT = {
					has_government = democratic
				}
				AND = {
					has_stability < 0.5
					check_variable = { ROOT.Dem_inf < 33 }
				}
				add = 1
			}
			modifier = {
				NOT = {
					has_government = democratic
				}
				AND = {
					has_stability > 0.5
					check_variable = { ROOT.Dem_inf > 33 }
				}
				add = -5
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -30 }
		}
		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_to_variable = { ROOT.Dem_inf = 5.00 }
		}
	}
	grant_communism_party_more_influence = {
		icon = decision_icon_grant_communism_party_more_influence
		cost = 0
		days_remove = 15
		days_re_enable = 7
		available = {
			check_variable = { var = ROOT.party_power value = 30 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_government = communism
				add = 10
			}
			modifier = {
				NOT = {
					has_government = communism
				}
				AND = {
					industrial_capacity_factory < 0.55
					check_variable = { ROOT.Com_inf < 33 }
				}
				add = 1
			}
			modifier = {
				NOT = {
					has_government = communism
				}
				AND = {
					industrial_capacity_factory > 0.55
					check_variable = { ROOT.Com_inf > 33 }
				}
				add = -5
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -30 }
		}
		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_to_variable = { ROOT.Com_inf = 5.00 }
		}
	}
	grant_fascism_party_more_influence = {
		icon = decision_icon_grant_fascism_party_more_influence
		cost = 0
		days_remove = 15
		days_re_enable = 7
		available = {
			check_variable = { var = ROOT.party_power value = 30 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_government = fascism
				add = 10
			}
			modifier = {
				NOT = {
					has_government = fascism
				}
				AND = {
					has_war_support < 0.45
					check_variable = { ROOT.Fas_inf < 33 }
				}
				add = 1
			}
			modifier = {
				NOT = {
					has_government = fascism
				}
				AND = {
					has_war_support > 0.45
					check_variable = { ROOT.Fas_inf > 33 }
				}
				add = -5
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -30 }
		}
		remove_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_to_variable = { ROOT.Fas_inf = 5.00 }
		}
	}
	grant_authoritarian_party_more_influence = {
		icon = decision_icon_grant_authoritarian_party_more_influence
		cost = 0
		days_remove = 15
		days_re_enable = 7
		available = {
			check_variable = { var = ROOT.party_power value = 30 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_government = neutrality
				add = 10
			}
			modifier = {
				NOT = {
					has_government = neutrality
				}
				AND = {
					political_power_gain < 2.4
					check_variable = { ROOT.Neu_inf < 33 }
				}
				add = 1
			}
			modifier = {
				NOT = {
					has_government = neutrality
				}
				AND = {
					political_power_gain > 2.4
					check_variable = { ROOT.Neu_inf > 33 }
				}
				add = -5
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -30 }
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_to_variable = { ROOT.Neu_inf = 5.00 }
		}
	}
	arrange_a_rout_against_democratic_party = {
		icon = decision_icon_arrange_a_rout_against_democratic_party
		cost = 0
		days_remove = 25
		days_re_enable = 9
		available = {
			NOT = {
				has_government = democratic
				check_variable = { ROOT.Dem_inf < 15.00 }
			}
			check_variable = { var = ROOT.party_power value = 20 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				NOT = {
					has_government = democratic
				}
				check_variable = { ROOT.Dem_inf > 33 }
				add = 1
			}
			modifier = {
				has_government = fascism
				check_variable = { ROOT.Dem_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = communism
				check_variable = { ROOT.Dem_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = neutrality
				check_variable = { ROOT.Dem_inf < 35 }
				add = -2
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -20 }
		}
		remove_effect = {
		
			if = {
				limit = {
					has_government = fascism
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf > ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.2 }
						}
						75 = {
							country_event = { id = partiesinfluence.1 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf < ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.1 }
						}
						75 = {
							country_event = { id = partiesinfluence.2 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf > ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.2 }
						}
						75 = {
							country_event = { id = partiesinfluence.1 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf < ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.1 }
						}
						75 = {
							country_event = { id = partiesinfluence.2 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf > ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.2 }
						}
						75 = {
							country_event = { id = partiesinfluence.1 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf < ROOT.Dem_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.1 }
						}
						75 = {
							country_event = { id = partiesinfluence.2 }
						}
					}
				}
			}
		}
	}
	arrange_a_rout_against_communism_party = {
		icon = decision_icon_arrange_a_rout_against_communism_party
		cost = 0
		days_remove = 25
		days_re_enable = 9
		available = {
			NOT = {
				has_government = communism
				check_variable = { ROOT.Com_inf < 15.00 }
			}
			check_variable = { var = ROOT.party_power value = 20 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_government = communism
				check_variable = { ROOT.Com_inf > 33 }
				add = 1
			}
			modifier = {
				has_government = fascism
				check_variable = { ROOT.Com_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = democratic
				check_variable = { ROOT.Com_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = neutrality
				check_variable = { ROOT.Com_inf < 35 }
				add = -2
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -20 }
		}
		remove_effect = {
		
			if = {
				limit = {
					has_government = fascism
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf > ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.4 }
						}
						75 = {
							country_event = { id = partiesinfluence.3 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf < ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.3 }
						}
						75 = {
							country_event = { id = partiesinfluence.4 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf > ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.4 }
						}
						75 = {
							country_event = { id = partiesinfluence.3 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf < ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.3 }
						}
						75 = {
							country_event = { id = partiesinfluence.4 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf > ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.4 }
						}
						75 = {
							country_event = { id = partiesinfluence.3 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf < ROOT.Com_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.3 }
						}
						75 = {
							country_event = { id = partiesinfluence.4 }
						}
					}
				}
			}
		}
	}
	arrange_a_rout_against_fascism_party = {
		icon = decision_icon_arrange_a_rout_against_fascism_party
		cost = 0
		days_remove = 25
		days_re_enable = 9
		available = {
			NOT = {
				has_government = fascism
				check_variable = { ROOT.Fas_inf < 15.00 }
			}
			check_variable = { var = ROOT.party_power value = 20 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				NOT = {
					has_government = fascism
				}
				check_variable = { ROOT.Fas_inf > 33 }
				add = 1
			}
			modifier = {
				has_government = communism
				check_variable = { ROOT.Fas_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = democratic
				check_variable = { ROOT.Fas_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = neutrality
				check_variable = { ROOT.Fas_inf < 35 }
				add = -2
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -20 }
		}
		remove_effect = {
		
			if = {
				limit = {
					has_government = communism
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf > ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.6 }
						}
						75 = {
							country_event = { id = partiesinfluence.5 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf < ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.5 }
						}
						75 = {
							country_event = { id = partiesinfluence.6 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf > ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.6 }
						}
						75 = {
							country_event = { id = partiesinfluence.5 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf < ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.5 }
						}
						75 = {
							country_event = { id = partiesinfluence.6 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf > ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.6 }
						}
						75 = {
							country_event = { id = partiesinfluence.5 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Neu_inf < ROOT.Fas_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.5 }
						}
						75 = {
							country_event = { id = partiesinfluence.6 }
						}
					}
				}
			}
		}
	}
	arrange_a_rout_against_authoritarian_party = {
		icon = decision_icon_arrange_a_rout_against_authoritarian_party
		cost = 0
		days_remove = 25
		days_re_enable = 9
		available = {
			NOT = {
				has_government = neutrality
				check_variable = { ROOT.Neu_inf < 15.00 }
			}
			check_variable = { var = ROOT.party_power value = 20 compare = greater_than_or_equals }
		}
		visible = {
			always = yes
		}
		ai_will_do = {
			base = 1
			modifier = {
				NOT = {
					has_government = neutrality
				}
				check_variable = { ROOT.Neu_inf > 33 }
				add = 1
			}
			modifier = {
				has_government = communism
				check_variable = { ROOT.Neu_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = democratic
				check_variable = { ROOT.Neu_inf < 35 }
				add = -2
			}
			modifier = {
				has_government = neutrality
				check_variable = { ROOT.Neu_inf < 35 }
				add = -2
			}
		}
		complete_effect = {
			add_to_variable = { ROOT.party_power = -20 }
		}
		remove_effect = {
		
			if = {
				limit = {
					has_government = communism
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf > ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.8 }
						}
						75 = {
							country_event = { id = partiesinfluence.7 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Com_inf < ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.7 }
						}
						75 = {
							country_event = { id = partiesinfluence.8 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf > ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.8 }
						}
						75 = {
							country_event = { id = partiesinfluence.7 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Dem_inf < ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.7 }
						}
						75 = {
							country_event = { id = partiesinfluence.8 }
						}
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf > ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.8 }
						}
						75 = {
							country_event = { id = partiesinfluence.7 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { ROOT.Fas_inf < ROOT.Neu_inf }
					}
					random_list = {
						25 = {
							country_event = { id = partiesinfluence.7 }
						}
						75 = {
							country_event = { id = partiesinfluence.8 }
						}
					}
				}
			}
		}
	}
}

